{
  "info": {
    "name": "BIP2 - Sistema de BÃºsqueda Inteligente de Productos (Completa)",
    "description": "ColecciÃ³n exhaustiva de endpoints para BIP2 con ejemplos reales basados en clientes y productos especÃ­ficos del catÃ¡logo de productos industriales",
    "version": "3.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://192.168.40.197:3001/api",
      "type": "string"
    },
    {
      "key": "datasourceId_efc",
      "value": "8c69c615-96fb-46bd-bc5b-6a9fcbc38a0b",
      "type": "string"
    },
    {
      "key": "datasourceName_efc",
      "value": "catalogo_efc",
      "type": "string"
    },
    {
      "key": "collection_efc",
      "value": "catalogo_efc",
      "type": "string"
    },
    {
      "key": "datasourceId_stock",
      "value": "0f647a20-8c25-404f-90d9-60dcd7ca1789",
      "type": "string"
    },
    {
      "key": "datasourceName_stock",
      "value": "catalogo_stock",
      "type": "string"
    },
    {
      "key": "collection_stock",
      "value": "catalogo_stock",
      "type": "string"
    },
    {
      "key": "cliente_honeywell",
      "value": "000106",
      "type": "string"
    },
    {
      "key": "cliente_loctite",
      "value": "003592",
      "type": "string"
    },
    {
      "key": "cliente_pilot_faber",
      "value": "004401",
      "type": "string"
    },
    {
      "key": "cliente_agua",
      "value": "000633",
      "type": "string"
    },
    {
      "key": "marca_honeywell",
      "value": "HONEYWELL",
      "type": "string"
    },
    {
      "key": "marca_loctite",
      "value": "LOCTITE",
      "type": "string"
    },
    {
      "key": "marca_pilot",
      "value": "PILOT",
      "type": "string"
    },
    {
      "key": "marca_faber",
      "value": "FABER CASTELL",
      "type": "string"
    },
    {
      "key": "marca_tumi",
      "value": "TUMI",
      "type": "string"
    },
    {
      "key": "marca_ove",
      "value": "OVE",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "ðŸ¥ Health & Status",
      "item": [
        {
          "name": "Health Check Completo",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/health",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "health"
              ]
            },
            "description": "Verificar estado general de todos los servicios del sistema"
          }
        },
        {
          "name": "Health Check Database",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/health/database",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "health",
                "database"
              ]
            },
            "description": "Verificar PostgreSQL donde se almacenan datasources y jobs"
          }
        },
        {
          "name": "Health Check Qdrant (Vector DB)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/health/qdrant",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "health",
                "qdrant"
              ]
            },
            "description": "Verificar Qdrant donde se almacenan embeddings vectoriales de productos"
          }
        },
        {
          "name": "Health Check Redis (Cache & Queue)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/health/redis",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "health",
                "redis"
              ]
            },
            "description": "Verificar Redis para Bull Queue (procesamiento de sincronizaciÃ³n)"
          }
        }
      ]
    },
    {
      "name": "ðŸ“Š Datasources (Fuentes de Datos)",
      "item": [
        {
          "name": "Listar Todas las Datasources",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/datasources",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "datasources"
              ]
            },
            "description": "Obtener lista completa de fuentes de datos configuradas (catalogo_efc y catalogo_stock)"
          }
        },
        {
          "name": "Obtener Datasource - catalogo_efc",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/datasources/{{datasourceId_efc}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "datasources",
                "{{datasourceId_efc}}"
              ]
            },
            "description": "Obtener detalles completos de catalogo_efc (MSSQL EFC_DB_PROD)"
          }
        },
        {
          "name": "Obtener Datasource - catalogo_stock",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/datasources/{{datasourceId_stock}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "datasources",
                "{{datasourceId_stock}}"
              ]
            },
            "description": "Obtener detalles completos de catalogo_stock"
          }
        },
        {
          "name": "Preview Datos - catalogo_efc",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/datasources/{{datasourceId_efc}}/preview?limit=10",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "datasources",
                "{{datasourceId_efc}}",
                "preview"
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "Ver muestra de 10 productos del catÃ¡logo"
          }
        },
        {
          "name": "Preview Datos - catalogo_stock",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/datasources/{{datasourceId_stock}}/preview?limit=5",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "datasources",
                "{{datasourceId_stock}}",
                "preview"
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            },
            "description": "Ver muestra de productos en stock"
          }
        }
      ]
    },
    {
      "name": "ðŸ—‚ï¸ Collections (Colecciones Qdrant)",
      "item": [
        {
          "name": "Listar Todas las Colecciones",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/collections",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "collections"
              ]
            },
            "description": "Obtener todas las colecciones de vectores disponibles"
          }
        },
        {
          "name": "Info Detallada - catalogo_efc",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/collections/{{collection_efc}}/info",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "collections",
                "{{collection_efc}}",
                "info"
              ]
            },
            "description": "Obtener estadÃ­sticas detalladas de catalogo_efc (total de puntos vectoriales, dimensiones, etc)"
          }
        },
        {
          "name": "Info Detallada - catalogo_stock",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/collections/{{collection_stock}}/info",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "collections",
                "{{collection_stock}}",
                "info"
              ]
            },
            "description": "Obtener estadÃ­sticas detalladas de catalogo_stock"
          }
        }
      ]
    },
    {
      "name": "ðŸ”„ SincronizaciÃ³n (Sync Jobs)",
      "item": [
        {
          "name": "Listar Jobs - catalogo_efc",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/sync/jobs?datasourceId={{datasourceId_efc}}&limit=20",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "sync",
                "jobs"
              ],
              "query": [
                {
                  "key": "datasourceId",
                  "value": "{{datasourceId_efc}}"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            },
            "description": "Obtener Ãºltimos 20 jobs de sincronizaciÃ³n de catalogo_efc"
          }
        },
        {
          "name": "Listar Jobs - catalogo_stock",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/sync/jobs?datasourceId={{datasourceId_stock}}&limit=20",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "sync",
                "jobs"
              ],
              "query": [
                {
                  "key": "datasourceId",
                  "value": "{{datasourceId_stock}}"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            },
            "description": "Obtener Ãºltimos 20 jobs de sincronizaciÃ³n de catalogo_stock"
          }
        },
        {
          "name": "Obtener Job EspecÃ­fico",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/sync/jobs/job-id-aqui",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "sync",
                "jobs",
                "job-id-aqui"
              ]
            },
            "description": "Obtener detalles completos de un job especÃ­fico (reemplazar job-id-aqui con ID real)"
          }
        },
        {
          "name": "SincronizaciÃ³n Completa - catalogo_efc",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/sync/full/{{datasourceId_efc}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "sync",
                "full",
                "{{datasourceId_efc}}"
              ]
            },
            "description": "Iniciar sincronizaciÃ³n completa de todos los productos de catalogo_efc desde la BD MSSQL"
          }
        },
        {
          "name": "SincronizaciÃ³n Completa - catalogo_stock",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/sync/full/{{datasourceId_stock}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "sync",
                "full",
                "{{datasourceId_stock}}"
              ]
            },
            "description": "Iniciar sincronizaciÃ³n completa de todos los productos de catalogo_stock"
          }
        },
        {
          "name": "SincronizaciÃ³n Incremental - catalogo_efc",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/sync/incremental/{{datasourceId_efc}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "sync",
                "incremental",
                "{{datasourceId_efc}}"
              ]
            },
            "description": "SincronizaciÃ³n incremental - solo productos modificados desde Ãºltima sincronizaciÃ³n"
          }
        },
        {
          "name": "Obtener Errores de Job",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/sync/errors/job-id-aqui",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "sync",
                "errors",
                "job-id-aqui"
              ]
            },
            "description": "Obtener lista de registros que fallaron en un job especÃ­fico"
          }
        },
        {
          "name": "Reintentar Errores de Job",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/sync/errors/job-id-aqui/retry",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "sync",
                "errors",
                "job-id-aqui",
                "retry"
              ]
            },
            "description": "Reintentar procesar los registros que fallaron en un job"
          }
        }
      ]
    },
    {
      "name": "ðŸ” BÃºsqueda por Texto",
      "item": [
        {
          "name": "BÃºsqueda Simple - Cliente HONEYWELL (000106)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"lentes de seguridad\",\n  \"collections\": [\"{{collection_efc}}\"],\n  \"limit\": 10\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/search/text",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "search",
                "text"
              ]
            },
            "description": "BÃºsqueda simple de 'lentes de seguridad' sin filtros. EncontrarÃ¡ productos como: LENTES DE SEGURIDAD MODELO GENESIS HONEYWELL"
          }
        },
        {
          "name": "BÃºsqueda por Cliente - HONEYWELL (000106)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"lentes seguridad genesis\",\n  \"collections\": [\"{{collection_efc}}\"],\n  \"limit\": 5,\n  \"cliente\": \"{{cliente_honeywell}}\",\n  \"useLLMFilter\": false\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/search/text",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "search",
                "text"
              ]
            },
            "description": "BÃºsqueda filtrada por cliente HONEYWELL (000106) - solo productos vendidos a este cliente"
          }
        },
        {
          "name": "BÃºsqueda por Marca - PILOT (Cliente 004401)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"boligrafo pilot\",\n  \"collections\": [\"{{collection_efc}}\"],\n  \"limit\": 8,\n  \"cliente\": \"{{cliente_pilot_faber}}\",\n  \"marca\": \"{{marca_pilot}}\",\n  \"useLLMFilter\": false\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/search/text",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "search",
                "text"
              ]
            },
            "description": "BÃºsqueda con filtro de cliente (004401) Y marca (PILOT). EncontrarÃ¡: BOLIGRAFO BL-G2-5 CON GRIP RETRACTIL NEGRO PILOT, LAPICERO TINTA FINA BPS-FINE AZUL PILOT, etc"
          }
        },
        {
          "name": "BÃºsqueda por Marca - LOCTITE (Cliente 003592)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"adhesivo super bonder\",\n  \"collections\": [\"{{collection_efc}}\"],\n  \"limit\": 5,\n  \"cliente\": \"{{cliente_loctite}}\",\n  \"marca\": \"{{marca_loctite}}\",\n  \"useLLMFilter\": false\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/search/text",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "search",
                "text"
              ]
            },
            "description": "BÃºsqueda de adhesivos LOCTITE para cliente 003592. EncontrarÃ¡: ADHESIVO SUPER BONDER 495"
          }
        },
        {
          "name": "BÃºsqueda con LLM Filter Activado",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"marcadores indelebles\",\n  \"collections\": [\"{{collection_efc}}\"],\n  \"limit\": 10,\n  \"cliente\": \"{{cliente_pilot_faber}}\",\n  \"useLLMFilter\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/search/text",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "search",
                "text"
              ]
            },
            "description": "BÃºsqueda con LLM Filter ACTIVADO - el modelo de IA inteligente refina los resultados segÃºn relevancia semÃ¡ntica. Busca marcadores/plumones para cliente 004401"
          }
        },
        {
          "name": "BÃºsqueda con Internet Search",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"lentes protecciÃ³n genesis honeywell\",\n  \"collections\": [\"{{collection_efc}}\"],\n  \"limit\": 15,\n  \"cliente\": \"{{cliente_honeywell}}\",\n  \"includeInternetSearch\": true,\n  \"useLLMFilter\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/search/text",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "search",
                "text"
              ]
            },
            "description": "BÃºsqueda completa: filtra por cliente + marca, activa bÃºsqueda en internet, y aplica LLM filter para mejor relevancia. Combina resultados internos y externos"
          }
        },
        {
          "name": "BÃºsqueda Multi-Datasource",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"productos\",\n  \"collections\": [\"{{collection_efc}}\", \"{{collection_stock}}\"],\n  \"limit\": 20,\n  \"useLLMFilter\": false\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/search/text",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "search",
                "text"
              ]
            },
            "description": "BÃºsqueda simultÃ¡nea en ambos datasources: catalogo_efc y catalogo_stock"
          }
        },
        {
          "name": "BÃºsqueda - Papel Fotocopia Cliente PapelerÃ­a (004401)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"papel fotocopia A4\",\n  \"collections\": [\"{{collection_efc}}\"],\n  \"limit\": 5,\n  \"cliente\": \"{{cliente_pilot_faber}}\",\n  \"useLLMFilter\": false\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/search/text",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "search",
                "text"
              ]
            },
            "description": "BÃºsqueda de papel fotocopia para cliente 004401. EncontrarÃ¡: PAPEL FOTOCOPIA A4 75GRM PQT X 500HJS"
          }
        }
      ]
    },
    {
      "name": "ðŸ“¸ BÃºsqueda por Imagen",
      "item": [
        {
          "name": "BÃºsqueda por Imagen - catalogo_efc",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "image",
                  "type": "file",
                  "src": []
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/search/image?collection={{collection_efc}}&limit=10",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "search",
                "image"
              ],
              "query": [
                {
                  "key": "collection",
                  "value": "{{collection_efc}}"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "Subir imagen de un producto para encontrar similares en catalogo_efc"
          }
        },
        {
          "name": "BÃºsqueda por Imagen - catalogo_stock",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "image",
                  "type": "file",
                  "src": []
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/search/image?collection={{collection_stock}}&limit=5",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "search",
                "image"
              ],
              "query": [
                {
                  "key": "collection",
                  "value": "{{collection_stock}}"
                },
                {
                  "key": "limit",
                  "value": "5"
                }
              ]
            },
            "description": "Subir imagen de un producto para encontrar similares en catalogo_stock"
          }
        }
      ]
    },
    {
      "name": "ðŸ’¡ Recomendaciones (Basadas en Productos)",
      "item": [
        {
          "name": "Recomendaciones - Basado en Lentes HONEYWELL (Cliente 000106)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"collection\": \"{{collection_efc}}\",\n  \"positiveIds\": [\"41010584\"],\n  \"negativeIds\": [],\n  \"limit\": 10\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/search/recommend",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "search",
                "recommend"
              ]
            },
            "description": "Recomendaciones basadas en el producto LENTES DE SEGURIDAD HONEYWELL (ID: 41010584). EncontrarÃ¡ productos similares que este cliente tambiÃ©n podrÃ­a comprar"
          }
        },
        {
          "name": "Recomendaciones - Basado en BolÃ­grafos PILOT (Cliente 004401)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"collection\": \"{{collection_efc}}\",\n  \"positiveIds\": [\"A0011920\", \"26021134\"],\n  \"negativeIds\": [],\n  \"limit\": 8\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/search/recommend",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "search",
                "recommend"
              ]
            },
            "description": "Recomendaciones basadas en dos productos PILOT (bolÃ­grafos). Sistema encuentra productos complementarios"
          }
        },
        {
          "name": "Recomendaciones - PILOT Pero Excluye LÃ¡pices",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"collection\": \"{{collection_efc}}\",\n  \"positiveIds\": [\"A0011920\"],\n  \"negativeIds\": [\"26020017\"],\n  \"limit\": 8\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/search/recommend",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "search",
                "recommend"
              ]
            },
            "description": "Recomendaciones avanzadas: positivos (productos a recomendar similar) + negativos (productos a EXCLUIR de resultados)"
          }
        },
        {
          "name": "Recomendaciones - Basado en Adhesivo LOCTITE (Cliente 003592)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"collection\": \"{{collection_efc}}\",\n  \"positiveIds\": [\"LOCTITE-495\"],\n  \"negativeIds\": [],\n  \"limit\": 10\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/search/recommend",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "search",
                "recommend"
              ]
            },
            "description": "Recomendaciones basadas en adhesivos LOCTITE. Ãštil para sugerir productos relacionados al cliente 003592"
          }
        }
      ]
    },
    {
      "name": "ðŸ” DetecciÃ³n de Duplicados",
      "item": [
        {
          "name": "Detectar Duplicados - catalogo_efc (Completo)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"collection\": \"{{collection_efc}}\",\n  \"similarityThreshold\": 0.85,\n  \"limit\": 50,\n  \"useAiClassification\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/duplicates/detect",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "duplicates",
                "detect"
              ]
            },
            "description": "Detectar productos duplicados en toda la colecciÃ³n catalogo_efc. Usa IA para clasificar duplicados verdaderos vs. similares"
          }
        },
        {
          "name": "Detectar Duplicados - Cliente EspecÃ­fico (000106 HONEYWELL)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"collection\": \"{{collection_efc}}\",\n  \"similarityThreshold\": 0.80,\n  \"limit\": 30,\n  \"useAiClassification\": true,\n  \"filters\": {\n    \"cliente\": \"000106\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/duplicates/detect",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "duplicates",
                "detect"
              ]
            },
            "description": "Detectar duplicados solo en productos vendidos al cliente HONEYWELL (000106)"
          }
        },
        {
          "name": "Detectar Duplicados - Marca PILOT (Cliente 004401)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"collection\": \"{{collection_efc}}\",\n  \"similarityThreshold\": 0.90,\n  \"limit\": 25,\n  \"useAiClassification\": false,\n  \"filters\": {\n    \"cliente\": \"004401\",\n    \"marca\": \"PILOT\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/duplicates/detect",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "duplicates",
                "detect"
              ]
            },
            "description": "Detectar duplicados en bolÃ­grafos PILOT vendidos a cliente 004401"
          }
        },
        {
          "name": "Detectar Duplicados - Marca FABER CASTELL",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"collection\": \"{{collection_efc}}\",\n  \"similarityThreshold\": 0.85,\n  \"limit\": 20,\n  \"useAiClassification\": true,\n  \"filters\": {\n    \"marca\": \"FABER CASTELL\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/duplicates/detect",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "duplicates",
                "detect"
              ]
            },
            "description": "Detectar duplicados en todos los productos FABER CASTELL"
          }
        },
        {
          "name": "Reporte Completo de Duplicados",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/duplicates/report?collection={{collection_efc}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "duplicates",
                "report"
              ],
              "query": [
                {
                  "key": "collection",
                  "value": "{{collection_efc}}"
                }
              ]
            },
            "description": "Obtener reporte completo de duplicados encontrados en catalogo_efc"
          }
        },
        {
          "name": "Valores Disponibles para Filtros",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/duplicates/filter-values?collection={{collection_efc}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "duplicates",
                "filter-values"
              ],
              "query": [
                {
                  "key": "collection",
                  "value": "{{collection_efc}}"
                }
              ]
            },
            "description": "Obtener lista de clientes, marcas y otros valores disponibles para filtrar duplicados"
          }
        },
        {
          "name": "Analizar Producto EspecÃ­fico - Lentes HONEYWELL",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"collection\": \"{{collection_efc}}\",\n  \"productId\": \"41010584\",\n  \"similarityThreshold\": 0.85\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/duplicates/analyze-product",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "duplicates",
                "analyze-product"
              ]
            },
            "description": "AnÃ¡lisis detallado de duplicados del producto LENTES DE SEGURIDAD HONEYWELL GENESIS"
          }
        },
        {
          "name": "Analizar Producto EspecÃ­fico - BolÃ­grafo PILOT",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"collection\": \"{{collection_efc}}\",\n  \"productId\": \"A0011920\",\n  \"similarityThreshold\": 0.80\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/duplicates/analyze-product",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "duplicates",
                "analyze-product"
              ]
            },
            "description": "AnÃ¡lisis de duplicados del bolÃ­grafo PILOT BL-G2-5"
          }
        }
      ]
    },
    {
      "name": "ðŸ“ Notas de ImplementaciÃ³n",
      "item": [
        {
          "name": "CLIENTES EN EL SISTEMA",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/health",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "health"
              ]
            },
            "description": "**Clientes principales en catalogo_efc:**\n\n- **000106** (HONEYWELL): Compra artÃ­culos de seguridad\n  - Productos: Lentes de seguridad HONEYWELL GENESIS, barras retrÃ¡ctiles\n  - Marcas: HONEYWELL, UVEX\n\n- **000633** (Agua/Bebidas): Distribuidor de agua\n  - Productos: Agua mineral S/GAS\n  - Marcas: SAN LUIS\n\n- **003592** (Industrial): Compra adhesivos y herramientas\n  - Productos: Adhesivos LOCTITE 495, brochas TUMI\n  - Marcas: LOCTITE, TUMI\n\n- **004401** (PapelerÃ­a/Oficina): Proveedor de artÃ­culos de oficina\n  - Productos: Papel fotocopia A4, plumones FABER CASTELL, bolÃ­grafos PILOT\n  - Marcas: REPORT, FABER CASTELL, PILOT, OVE\n\n**ParÃ¡metros clave para bÃºsquedas:**\n- useLLMFilter: true = IA refina resultados | false = bÃºsqueda vectorial pura\n- includeInternetSearch: true = busca tambiÃ©n en internet\n- similarityThreshold: 0.80-0.90 = quÃ© tan similares deben ser los duplicados\n- filters: filtrar por cliente y/o marca"
          }
        }
      ]
    },
    {
      "name": "ðŸ” Advanced Search with Payload Filters",
      "item": [
        {
          "name": "1. Products with sales in last 3 years (>= 1)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"desarmador\",\n  \"collections\": [\"catalogo_efc_200k\"],\n  \"limit\": 10,\n  \"payloadFilters\": {\n    \"ventas_3_anios\": { \"gte\": 1 }\n  }\n}"
            },
            "url": {
              "raw": "http://192.168.40.197:3001/api/search/text",
              "protocol": "http",
              "host": [
                "192",
                "168",
                "40",
                "197"
              ],
              "port": "3001",
              "path": [
                "api",
                "search",
                "text"
              ]
            }
          }
        },
        {
          "name": "2. In-stock products only",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"llave inglesa\",\n  \"collections\": [\"catalogo_efc_200k\", \"catalogo_stock\"],\n  \"limit\": 10,\n  \"payloadFilters\": {\n    \"en_stock\": true\n  }\n}"
            },
            "url": {
              "raw": "http://192.168.40.197:3001/api/search/text",
              "protocol": "http",
              "host": [
                "192",
                "168",
                "40",
                "197"
              ],
              "port": "3001",
              "path": [
                "api",
                "search",
                "text"
              ]
            }
          }
        },
        {
          "name": "3. Very popular products (50+ sales)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"tornillo\",\n  \"collections\": [\"catalogo_efc_200k\"],\n  \"limit\": 15,\n  \"payloadFilters\": {\n    \"ventas_3_anios\": { \"gte\": 50 }\n  }\n}"
            },
            "url": {
              "raw": "http://192.168.40.197:3001/api/search/text",
              "protocol": "http",
              "host": [
                "192",
                "168",
                "40",
                "197"
              ],
              "port": "3001",
              "path": [
                "api",
                "search",
                "text"
              ]
            }
          }
        },
        {
          "name": "4. Moderately popular in-stock (5-50 sales)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"martillo\",\n  \"collections\": [\"catalogo_efc_200k\"],\n  \"limit\": 10,\n  \"payloadFilters\": {\n    \"ventas_3_anios\": { \"gte\": 5, \"lte\": 50 },\n    \"en_stock\": true\n  }\n}"
            },
            "url": {
              "raw": "http://192.168.40.197:3001/api/search/text",
              "protocol": "http",
              "host": [
                "192",
                "168",
                "40",
                "197"
              ],
              "port": "3001",
              "path": [
                "api",
                "search",
                "text"
              ]
            }
          }
        },
        {
          "name": "5. HONEYWELL brand with payload filters",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"lentes de seguridad\",\n  \"collections\": [\"catalogo_efc_200k\"],\n  \"limit\": 10,\n  \"marca\": \"HONEYWELL\",\n  \"payloadFilters\": {\n    \"ventas_3_anios\": { \"gte\": 1 },\n    \"precio_lista\": true\n  }\n}"
            },
            "url": {
              "raw": "http://192.168.40.197:3001/api/search/text",
              "protocol": "http",
              "host": [
                "192",
                "168",
                "40",
                "197"
              ],
              "port": "3001",
              "path": [
                "api",
                "search",
                "text"
              ]
            }
          }
        },
        {
          "name": "6. Client filter with payload filters",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"pistola de aire\",\n  \"collections\": [\"catalogo_efc_200k\"],\n  \"limit\": 10,\n  \"cliente\": \"000106\",\n  \"payloadFilters\": {\n    \"en_stock\": true,\n    \"ventas_3_anios\": { \"gt\": 0 }\n  }\n}"
            },
            "url": {
              "raw": "http://192.168.40.197:3001/api/search/text",
              "protocol": "http",
              "host": [
                "192",
                "168",
                "40",
                "197"
              ],
              "port": "3001",
              "path": [
                "api",
                "search",
                "text"
              ]
            }
          }
        },
        {
          "name": "7. With LLM semantic filter + payload filters",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"taladro\",\n  \"collections\": [\"catalogo_efc_200k\"],\n  \"limit\": 10,\n  \"useLLMFilter\": true,\n  \"payloadFilters\": {\n    \"en_stock\": true,\n    \"ventas_3_anios\": { \"gte\": 5 }\n  }\n}"
            },
            "url": {
              "raw": "http://192.168.40.197:3001/api/search/text",
              "protocol": "http",
              "host": [
                "192",
                "168",
                "40",
                "197"
              ],
              "port": "3001",
              "path": [
                "api",
                "search",
                "text"
              ]
            }
          }
        }
      ]
    }
  ]
}
